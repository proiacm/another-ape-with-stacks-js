!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@stacks/connect")):"function"==typeof define&&define.amd?define(["exports","react","@stacks/connect"],n):n((t=t||self)["@stacks/connect-react"]={},t.React,t.connect)}(this,(function(t,n,e){"use strict";var i,a="default"in n?n.default:n;function o(){return(o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}(i||(i={})).UPDATE_AUTH_OPTIONS="data/update-auth-options";var r={isOpen:!1,isAuthenticating:!1,authData:void 0,userSession:void 0,authOptions:{redirectTo:"",manifestPath:"",onFinish:function(){return null},authOrigin:void 0,sendToSignIn:!1,appDetails:{name:"",icon:""}}},u=function(t,n){var e=n.type,a=n.payload;switch(e){case i.UPDATE_AUTH_OPTIONS:return o({},t,{authOptions:o({},t.authOptions,a)});default:throw new Error("Unhandled action type: "+e)}},s=n.createContext(r),c=n.createContext(void 0),p=function(t){var e=t.authOptions,i=t.children,p=n.useReducer(u,r),h=p[1];return a.createElement(s.Provider,{value:o({},p[0],{authOptions:e})},a.createElement(c.Provider,{value:h},i))};Object.keys(e).forEach((function(n){"default"!==n&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t.Connect=function(t){return a.createElement(p,{authOptions:t.authOptions},t.children)},t.useConnect=function(){var t=n.useContext(s),a=t.isOpen,r=t.isAuthenticating,u=t.authData,p=t.authOptions,h=t.userSession,l=function(){var t=n.useContext(c);if(!t)throw new Error("This must be used within the ConnectProvider component.");return t}();return{isOpen:a,isAuthenticating:r,authData:u,authOptions:p,userSession:h,doOpenAuth:function(t,n){if(t){var a=o({},p,n,{onFinish:function(t){var n;null===(n=p.onFinish)||void 0===n||n.call(p,t)},sendToSignIn:!0});e.authenticate(a)}else e.showBlockstackConnect(o({},p,{sendToSignIn:!1})),p&&l({type:i.UPDATE_AUTH_OPTIONS,payload:p})},doAuth:function(t){void 0===t&&(t={}),e.authenticate(o({},p,t,{onFinish:function(t){var n;null===(n=p.onFinish)||void 0===n||n.call(p,t)}}))},authenticate:e.authenticate,doContractCall:function(t){return e.openContractCall(o({},t,{authOrigin:p.authOrigin,appDetails:p.appDetails}))},doContractDeploy:function(t){return e.openContractDeploy(o({},t,{authOrigin:p.authOrigin,appDetails:p.appDetails}))},doSTXTransfer:function(t){return e.openSTXTransfer(o({},t,{authOrigin:p.authOrigin,appDetails:p.appDetails}))},sign:function(t){return e.openSignatureRequestPopup(o({},t,{authOrigin:p.authOrigin,appDetails:p.appDetails}))},signStructuredData:function(t){return e.openStructuredDataSignatureRequestPopup(o({},t,{authOrigin:p.authOrigin,appDetails:p.appDetails}))}}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=connect-react.umd.production.min.js.map
